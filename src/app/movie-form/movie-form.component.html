<div class="header">
  <h4 class="back-to-list" routerLink="/" routerLinkActive="active">
    <i class="fa fa-arrow-left"></i> Movies List
  </h4>
</div>
<form class="movies-form" [formGroup]="movieFom" (ngSubmit)="createMovie()">
  <h1>Movie Form</h1>
  <mat-form-field class="movie-name">
    <input matInput formControlName="movieName" placeholder="Movie Name">
    <mat-error *ngIf="movieFom.get('movieName').hasError('required')">Movie Name is required</mat-error>
  </mat-form-field>

  <mat-form-field class="movie-type">
    <input matInput formControlName="movieType" placeholder="Movie Type">
    <mat-error *ngIf="movieFom.get('movieType').hasError('required')">Movie Type is required</mat-error>
  </mat-form-field>

  <mat-form-field>
    <input matInput formControlName="releasedOn" [matDatepicker]="picker" placeholder="Released Date">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
    <mat-error *ngIf="movieFom.get('releasedOn').hasError('required')">Please select a date</mat-error>
  </mat-form-field>

  <mat-form-field class="movie-ratings">
    <input matInput 
      formControlName="ratings" 
      placeholder="Movie Ratings" 
      type="number" 
      minlength="1" 
      maxlength="10">
      <mat-error *ngIf="!movieFom.get('ratings').valid && movieFom.get('ratings').hasError('required')">Rating is required</mat-error>
      <mat-error *ngIf="movieFom.get('ratings').hasError('minlength')">Rating should be more than or equal to {{minlength}}</mat-error>
      <mat-error *ngIf="movieFom.get('ratings').hasError('maxlength')">Rating should be less than or equal to {{maxlength}}</mat-error>
  </mat-form-field>

  <button class="create-button add-movie" mat-flat-button color="primary" [disabled]='!movieFom.valid'>Add Movie</button>
</form>
